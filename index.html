<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>USS_ARCHIVE // SECURE_TERM</title>
    <style>
        /* --- CORE VISUALS --- */
        :root {
            --term-green: #33ff00;
            --term-bright: #ccffcc;
            --term-dim: #1a8000;
            --term-red: #ff3333;
            --bg-color: #020202;
            --glass-reflection: rgba(255, 255, 255, 0.02);
        }

        @font-face {
            font-family: 'TechMono';
            src: local('Courier New');
        }

        body {
            background-color: var(--bg-color);
            color: var(--term-green);
            font-family: 'Courier New', monospace;
            margin: 0;
            height: 100vh;
            overflow: hidden;
            display: flex;
            flex-direction: column;
            text-shadow: 0 0 4px var(--term-dim), 0 0 2px var(--term-green);
            user-select: none; /* Prevents highlighting text for realism */
        }

        /* --- CRT LAYERS --- */
        .crt-overlay {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            pointer-events: none; z-index: 999;
            background: 
                /* Scanlines */
                linear-gradient(rgba(18, 16, 16, 0) 50%, rgba(0, 0, 0, 0.25) 50%), 
                /* Subtle noise */
                radial-gradient(circle, rgba(0,0,0,0) 60%, rgba(0,0,0,0.4) 100%);
            background-size: 100% 3px, 100% 100%;
        }
        
        /* Screen curvature vignette */
        .vignette {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            box-shadow: inset 0 0 100px rgba(0,0,0,0.9);
            pointer-events: none; z-index: 1000;
        }

        /* --- GLITCH ANIMATION --- */
        .glitch {
            position: relative;
        }
        .glitch::before, .glitch::after {
            content: attr(data-text);
            position: absolute; top: 0; left: 0; width: 100%; height: 100%;
            background: var(--bg-color);
        }
        .glitch::before {
            left: 2px; text-shadow: -1px 0 #ff00c1;
            clip: rect(44px, 450px, 56px, 0);
            animation: glitch-anim 5s infinite linear alternate-reverse;
        }
        .glitch::after {
            left: -2px; text-shadow: -1px 0 #00fff9;
            clip: rect(44px, 450px, 56px, 0);
            animation: glitch-anim2 5s infinite linear alternate-reverse;
        }

        @keyframes glitch-anim {
            0% { clip: rect(10px, 9999px, 30px, 0); }
            5% { clip: rect(80px, 9999px, 90px, 0); }
            10% { clip: rect(30px, 9999px, 10px, 0); }
            100% { clip: rect(0, 0, 0, 0); }
        }
        @keyframes glitch-anim2 {
            0% { clip: rect(60px, 9999px, 70px, 0); }
            5% { clip: rect(20px, 9999px, 10px, 0); }
            10% { clip: rect(10px, 9999px, 50px, 0); }
            100% { clip: rect(0, 0, 0, 0); }
        }

        /* --- LOGIN SCREEN --- */
        #login-screen {
            display: flex; flex-direction: column;
            justify-content: center; align-items: center;
            height: 100%; z-index: 50;
            transition: opacity 0.5s;
        }

        .login-box {
            border: 1px solid var(--term-green);
            padding: 40px; text-align: center;
            background: rgba(0, 20, 0, 0.85);
            box-shadow: 0 0 20px var(--term-dim);
            width: 350px;
            position: relative;
        }
        
        .login-box::before {
            content: ""; position: absolute; top: -2px; left: -2px;
            width: 10px; height: 10px; border-top: 2px solid var(--term-green); border-left: 2px solid var(--term-green);
        }
        .login-box::after {
            content: ""; position: absolute; bottom: -2px; right: -2px;
            width: 10px; height: 10px; border-bottom: 2px solid var(--term-green); border-right: 2px solid var(--term-green);
        }

        input[type="password"] {
            background: transparent; border: none;
            border-bottom: 2px solid var(--term-green);
            color: var(--term-green);
            font-family: inherit; font-size: 24px;
            width: 60%; text-align: center; outline: none; margin: 20px 0;
            letter-spacing: 5px;
        }
        
        /* --- BOOT SEQUENCE --- */
        #boot-sequence {
            display: none; height: 100%; width: 100%;
            justify-content: center; align-items: center; flex-direction: column;
            z-index: 60;
        }
        
        .progress-bar {
            width: 300px; height: 20px; border: 2px solid var(--term-green);
            margin-top: 20px; padding: 2px;
        }
        .progress-fill {
            height: 100%; width: 0%; background: var(--term-green);
            box-shadow: 0 0 10px var(--term-green);
            transition: width 0.1s;
        }

        /* --- MAIN INTERFACE --- */
        #main-interface {
            display: none; flex-direction: column;
            height: 100%; padding: 30px; box-sizing: border-box; z-index: 10;
            opacity: 0; transition: opacity 1s;
        }

        #bg-terminal {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            padding: 20px; color: var(--term-green); opacity: 0.1;
            z-index: -1; overflow: hidden;
            font-size: 12px; pointer-events: none;
            white-space: pre-wrap;
        }

        header {
            display: flex; justify-content: space-between; align-items: flex-end;
            border-bottom: 1px solid var(--term-green);
            padding-bottom: 15px; margin-bottom: 20px;
        }

        .header-stat { font-size: 14px; opacity: 0.8; }
        .big-clock { font-size: 28px; font-weight: bold; }

        .file-grid {
            display: grid; grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
            gap: 25px; overflow-y: auto; padding-right: 10px;
        }
        
        /* Custom Scrollbar */
        .file-grid::-webkit-scrollbar { width: 8px; }
        .file-grid::-webkit-scrollbar-track { background: #001100; }
        .file-grid::-webkit-scrollbar-thumb { background: var(--term-green); }

        .file-item {
            border: 1px solid var(--term-dim);
            padding: 15px; background: rgba(0, 20, 0, 0.4);
            cursor: pointer; transition: 0.2s;
            display: flex; flex-direction: column; align-items: center;
        }

        .file-item:hover {
            background: var(--term-green); color: black;
            border-color: var(--term-bright);
            box-shadow: 0 0 15px var(--term-green);
            transform: translateY(-2px);
        }

        .file-icon { font-size: 28px; margin-bottom: 10px; }

        /* --- VIDEO MODAL --- */
        .modal {
            display: none; position: fixed;
            top: 0; left: 0; width: 100%; height: 100%;
            background: rgba(0,0,0,0.92); z-index: 200;
            backdrop-filter: blur(2px);
            justify-content: center; align-items: center; flex-direction: column;
        }

        .video-container {
            border: 2px solid var(--term-green);
            padding: 4px;
            box-shadow: 0 0 50px var(--term-dim);
            background: #000;
        }

        video { max-width: 80vw; max-height: 70vh; display: block; }

        .close-btn {
            margin-top: 20px; background: transparent;
            border: 1px solid var(--term-green); color: var(--term-green);
            padding: 12px 40px; font-family: inherit; font-weight: bold;
            cursor: pointer; letter-spacing: 2px; transition: 0.2s;
        }
        .close-btn:hover { background: var(--term-green); color: black; box-shadow: 0 0 15px var(--term-green); }

        /* Utilities */
        .blink { animation: blink 1s step-end infinite; }
        @keyframes blink { 50% { opacity: 0; } }
        .text-red { color: var(--term-red); text-shadow: 0 0 5px var(--term-red); }
        .hidden { display: none !important; }

    </style>
</head>
<body>

    <!-- VISUAL OVERLAYS -->
    <div class="crt-overlay"></div>
    <div class="vignette"></div>
    
    <!-- BACKGROUND LOGS -->
    <div id="bg-terminal"></div>

    <!-- 1. LOGIN SCREEN -->
    <div id="login-screen">
        <div class="login-box">
            <h2 class="glitch" data-text="USS_ARCHIVE">USS_ARCHIVE</h2>
            <div style="font-size: 10px; letter-spacing: 3px; margin-bottom: 20px;">RESTRICTED ACCESS</div>
            
            <div>ENTER PASSCODE:</div>
            <input type="password" id="pass-input" maxlength="2" autofocus>
            
            <div id="msg-area" style="height: 20px; margin-top: 15px; font-size: 12px; color: var(--term-red);"></div>
            <div style="font-size: 10px; opacity: 0.5; margin-top: 20px;">HINT: LUCKY NUMBER</div>
        </div>
    </div>

    <!-- 2. BOOT SEQUENCE (Hidden initially) -->
    <div id="boot-sequence">
        <h1 style="font-size: 40px; margin-bottom: 10px;">ACCESS GRANTED</h1>
        <div style="font-size: 14px; margin-bottom: 5px;" id="boot-text">LOADING USER PROFILE...</div>
        <div class="progress-bar">
            <div class="progress-fill" id="progress-fill"></div>
        </div>
    </div>

    <!-- 3. MAIN INTERFACE (Hidden initially) -->
    <div id="main-interface">
        <header>
            <div>
                <div class="glitch" data-text="COMMAND: ADMIN" style="font-size: 20px; font-weight: bold;">COMMAND: ADMIN</div>
                <div class="header-stat">MEM: 64TB // SECURE</div>
            </div>
            <div style="text-align: right;">
                <div class="big-clock" id="clock">00:00:00</div>
                <div class="header-stat blink">LIVE FEED CONNECTED</div>
            </div>
        </header>

        <div class="file-grid" id="file-system">
            <!-- FILES GENERATED BY JS -->
        </div>
    </div>

    <!-- 4. VIDEO PLAYER -->
    <div class="modal" id="video-modal">
        <div class="video-container">
            <video id="main-player" controls>
                <source src="" type="video/mp4">
            </video>
        </div>
        <button class="close-btn" onclick="closeVideo()">[ CLOSE TERMINAL ]</button>
    </div>

    <script>
        /* --- CONFIGURATION --- */
        const PASSCODE = "13";
        const LOGS = [
            { title: "DAY_042.mp4", size: "14MB", date: "2084-05-12", file: "videos/log1.mp4" },
            { title: "DAY_043.mp4", size: "22MB", date: "2084-05-13", file: "videos/log2.mp4" },
            { title: "EVENT_HORIZON", size: "108MB", date: "2084-06-01", file: "videos/log3.mp4" },
            { title: "CREW_MANIFEST", size: "2KB", date: "ENCRYPTED", file: "videos/log4.mp4" },
            { title: "DAMAGE_REPORT", size: "45MB", date: "2084-06-02", file: "videos/log5.mp4" }
        ];

        /* --- AUDIO SYSTEM (Web Audio API) --- */
        const audioCtx = new (window.AudioContext || window.webkitAudioContext)();
        
        function playSound(type) {
            if (audioCtx.state === 'suspended') audioCtx.resume();
            const osc = audioCtx.createOscillator();
            const gain = audioCtx.createGain();
            osc.connect(gain);
            gain.connect(audioCtx.destination);

            const now = audioCtx.currentTime;
            
            if (type === 'keystroke') {
                // Short high blip
                osc.type = 'square';
                osc.frequency.setValueAtTime(800, now);
                osc.frequency.exponentialRampToValueAtTime(1200, now + 0.05);
                gain.gain.setValueAtTime(0.05, now);
                gain.gain.exponentialRampToValueAtTime(0.001, now + 0.05);
                osc.start(now);
                osc.stop(now + 0.05);
            } else if (type === 'error') {
                // Low buzz
                osc.type = 'sawtooth';
                osc.frequency.setValueAtTime(150, now);
                osc.frequency.linearRampToValueAtTime(100, now + 0.3);
                gain.gain.setValueAtTime(0.1, now);
                gain.gain.linearRampToValueAtTime(0.001, now + 0.3);
                osc.start(now);
                osc.stop(now + 0.3);
            } else if (type === 'success') {
                // Power up sound
                osc.type = 'sine';
                osc.frequency.setValueAtTime(400, now);
                osc.frequency.exponentialRampToValueAtTime(1000, now + 0.4);
                gain.gain.setValueAtTime(0.1, now);
                gain.gain.linearRampToValueAtTime(0, now + 0.6);
                osc.start(now);
                osc.stop(now + 0.6);
            } else if (type === 'hover') {
                // Very quiet tick
                osc.type = 'triangle';
                osc.frequency.setValueAtTime(2000, now);
                gain.gain.setValueAtTime(0.01, now);
                gain.gain.linearRampToValueAtTime(0, now + 0.01);
                osc.start(now);
                osc.stop(now + 0.01);
            }
        }

        /* --- DOM ELEMENTS --- */
        const loginScreen = document.getElementById('login-screen');
        const passInput = document.getElementById('pass-input');
        const msgArea = document.getElementById('msg-area');
        const bootScreen = document.getElementById('boot-sequence');
        const mainUI = document.getElementById('main-interface');
        const progressFill = document.getElementById('progress-fill');
        const bootText = document.getElementById('boot-text');

        /* --- LOGIN LOGIC --- */
        passInput.addEventListener('input', () => playSound('keystroke'));
        
        passInput.addEventListener('keydown', (e) => {
            if (e.key === 'Enter') {
                if (passInput.value === PASSCODE) {
                    startBootSequence();
                } else {
                    playSound('error');
                    msgArea.innerText = "ACCESS DENIED";
                    msgArea.classList.add("blink");
                    passInput.value = "";
                    setTimeout(() => msgArea.classList.remove("blink"), 2000);
                }
            }
        });

        function startBootSequence() {
            playSound('success');
            loginScreen.style.display = 'none';
            bootScreen.style.display = 'flex';
            
            // Animate Progress Bar
            let width = 0;
            const interval = setInterval(() => {
                width += Math.random() * 5;
                if (width > 100) width = 100;
                progressFill.style.width = width + "%";
                
                // Random boot text
                if (Math.random() > 0.7) {
                    const texts = ["DECRYPTING...", "MOUNTING VOLUMES...", "BYPASSING FIREWALL...", "LOADING UI..."];
                    bootText.innerText = texts[Math.floor(Math.random() * texts.length)];
                }

                if (width === 100) {
                    clearInterval(interval);
                    setTimeout(showMainInterface, 500);
                }
            }, 50);
        }

        function showMainInterface() {
            bootScreen.style.display = 'none';
            mainUI.style.display = 'flex';
            // Trigger fade in
            setTimeout(() => { mainUI.style.opacity = 1; }, 50);
            initClock();
            startBgTyping();
            renderFiles();
        }

        /* --- MAIN UI LOGIC --- */
        function initClock() {
            const updateClock = () => {
                const now = new Date();
                document.getElementById('clock').innerText = now.toLocaleTimeString('en-GB', { hour12: false });
            };
            setInterval(updateClock, 1000);
            updateClock();
        }

        function renderFiles() {
            const grid = document.getElementById('file-system');
            LOGS.forEach(log => {
                const el = document.createElement('div');
                el.className = 'file-item';
                el.innerHTML = `
                    <div class="file-icon">â–º</div>
                    <div style="font-weight: bold;">${log.title}</div>
                    <div style="font-size: 10px; margin-top: 5px; opacity: 0.7;">${log.date} // ${log.size}</div>
                `;
                el.onmouseenter = () => playSound('hover');
                el.onclick = () => openVideo(log.file);
                grid.appendChild(el);
            });
        }

        /* --- VIDEO PLAYER --- */
        const modal = document.getElementById('video-modal');
        const player = document.getElementById('main-player');

        function openVideo(src) {
            playSound('keystroke');
            player.src = src;
            modal.style.display = 'flex';
            player.play().catch(e => console.log("Auto-play prevented by browser"));
        }

        function closeVideo() {
            playSound('keystroke');
            player.pause();
            player.src = "";
            modal.style.display = 'none';
        }

        /* --- BACKGROUND TYPING EFFECT --- */
        const bgTerm = document.getElementById('bg-terminal');
        const phrases = [
            "System initialized...",
            "Checking integrity of sector 7...",
            "Scanning for unauthorized signals...",
            "Bio-metrics: STABLE.",
            "Life support: 98%.",
            "Incoming transmission blocked.",
            "Rerouting power to dorsal thrusters...",
            "Packet 34928 received.",
            "Decrypting payload...",
            "Updating starcharts...",
            "Ping: 24ms to nearest beacon.",
            "Cache cleared."
        ];

        function typeLine() {
            if (mainUI.style.display === 'none') return; // Only type if UI is open

            const line = phrases[Math.floor(Math.random() * phrases.length)];
            const div = document.createElement('div');
            const time = new Date().toLocaleTimeString('en-GB');
            div.innerText = `[${time}] > ${line}`;
            bgTerm.appendChild(div);
            
            if (bgTerm.childElementCount > 30) bgTerm.removeChild(bgTerm.firstChild);
            
            setTimeout(typeLine, Math.random() * 2000 + 500);
        }

        function startBgTyping() {
            typeLine();
        }

    </script>
</body>
</html>
